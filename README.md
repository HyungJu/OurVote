# OurVote 

교내 투표를 위해 고안된 **탈중앙화된** 투표 애플리케이션.

## 개요

**OurVote 프로젝트**는 기존의 비싸고 신뢰되지않은 전자투표 플랫폼을 대체하여

저렴하고 투명한 교내 투표를 실시하기 위해 개발되었다.



**OurVote 프로젝트**는 Ethereum 혹은 QTUM의 dAPP으로써 

> Hyperledger Fabric 도 고려해볼수 있다.

Laravel기반 **Web Frontend** 구현을 포함한다.

## 스마트 컨트랙트

**OurVote dAPP**은 아래와같이 구성된다.

1. 투표
2. 투표 시작
3. 결과 확인
4. 선거후보 등록
5. 투표 종료
6. 투표권 부여

 

### 사전 연구

dAPP상의 Private Variable의 외부접근성을 확인하고, private으로 저장된 값도 외부에서 접근이 가능한지 여부를 연구해볼 필요가 있다.

#### 기존 상용화된 블록체인 기반 투표 서비스 

TODO

### 0. 데이터

OurVote dAPP은 다음의 변수들을 가지고 있다

- 유권자 주소 Mapping
- 후보자 주소 Mapping
- 투표완료 시각 or Boolean 완료 여부
- Vote 값 *Integer* (후보자의 경우에만)
- 주소의 User type : *유권자 or 후보자* 

### 1. 투표

유권자의 Account에서 유권자가 선택한 후보에게 투표한다.

**투표 함수의 인자** 주소로 1개의 Vote 값을 증가한다.



### 2. 투표시작

모든 후보자의 Vote 값을 0으로 초기화한다.



### 3. 결과확인

투표완료 시각이 경과하였거나, 투표가 완료됬다고 인식되면

본 함수가 실행된다.



실행시, 모든 투표를 정지시키고 JSON의 형식으로 결과를

반환한다.

### 4. 선거후보 등록

Owner로 등록된 주소만이 호출가능한 함수로서,

후보자 Mapping에 후보자 주소를 등록한다.

~~이 경우에도 모든 파라미터는 RSA암호화된다.~~



### 5. 투표종료

이 경우에도, Owner 계정만 실행이 가능한 함수이다

투표종료 변수를 1(*true*) 로 설정한다.



### 6. 투표권 부여

Owner만 실행이 가능하다.

파라미터로 입력된 계정이 투표할수 있도록 설정한다.



## Web Frontend

웹 프론트엔드는 Laravel 웹 프레임워크와

PHP-Ethereum 혹은, QTUM RPC Api를 이용하여 구현한다.



### 사용자 인증

사용자 인증으로는 경우에 따라 두개의 인증방식을 사용할 수 있다.

#### 1. 인증코드 인증

학교에서 투표 대상 유권자의 목록을 XLSX혹은 기타 포맷으로 등록하면,

해당 정보를 DB에 등록후 랜덤 함수를 통해 각 개인의 인증코드를 발급한다.

> 해당 인증코드는 학교에 XLSX파일로 제공하며 
>
> 학교에서 직접 배부할 수 있도록 한다.

본 방법은 **교내 공용컴퓨터**로 투표를 진행할 시 사용에 용이하다.

#### 2. 개인정보 인증

학교에서 투표 대상 유권자의 휴대전화 번호등 정보를 제공받아

해당 정보를 DB에 저장한다.

> 휴대전화번호 인증을 통해 개인 여부를 확인한다.

본 방법은 **개인 휴대전화**로 투표를 진행할 시 사용에 용이하다.



### 투표

상기한 인증 과정을 완료 한 후

RPC API를 이용해 Ethereum 계좌를 생성하고 투표권을 부여한다.

그 후, 투표 페이지로 이동한다



투표 페이지에는 다음과같은 요소를 포함한다.

- 투표 이름
- 투표 일시
- 후보자 정보
  - 후보자 이름
  - 후보자 공약
  - 후보자 사진



- 결과 확인

-> 관리자 계정을 별도 생성하여 즉시 확인하고

문서화하여 출력할 수 있도록 한다.
